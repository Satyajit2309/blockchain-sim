{% extends "base.html" %}
{% block content %}
  <div class="p-3 bg-white rounded shadow">
    <h4>Submit Service Record</h4>
    <p class="text-muted">As a garage, submit a service record for a vehicle. This will require consensus from other garages.</p>

    <form method="post">
      <div class="mb-3">
        <label for="vin" class="form-label">Vehicle VIN</label>
        <input type="text" class="form-control" id="vin" name="vin" required 
               placeholder="e.g., 1HGBH41JXMN109186" pattern="[A-Z0-9]+" 
               title="VIN must contain only uppercase letters and numbers">
        <div class="form-text">Enter the vehicle identification number (VIN)</div>
      </div>

      <div class="mb-3">
        <label for="description" class="form-label">Service Description</label>
        <textarea class="form-control" id="description" name="description" rows="4" required
                  placeholder="Describe the service performed (e.g., oil change, brake replacement, tire rotation)"></textarea>
        <div class="form-text">Provide detailed information about the service performed</div>
      </div>

      <button type="submit" class="btn btn-primary">Submit for Garage Consensus</button>
      <a href="{{ url_for('garage_panel') }}" class="btn btn-secondary">Cancel</a>
    </form>
  </div>

  <script>
    // Auto-uppercase VIN input
    document.getElementById('vin').addEventListener('input', function(e) {
      e.target.value = e.target.value.toUpperCase();
    });
  </script>
{% endblock %}